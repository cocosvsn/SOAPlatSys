<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.soaplat.sysmgr.bean">
   <!--  <sql-query name="select_rolemenu">
	    
	    <![CDATA[SELECT DISTINCT(MENUID),MENUNAME,MENULABEL,MENUCODE,ISLEAF,MENUACTION,PARAMETER,UIENTRY,MENULEVEL,ROOTID,PARENTSID,DISPLAYORDER,IMAGEPATH,EXPANDPATH,MENUSEQ,OPENMODE,SUBCOUNT,M.FUNCID
	        FROM TSOASYSMENU M,TSOASYSROLEOPERREL R,TSOASYSROLEFUNREL F WHERE M.FUNCID=F.FUNCID AND R.ROLEID=F.ROLEID AND R.OPERATORID=? ORDER BY PARENTSID,DISPLAYORDER
	    	]]>
	</sql-query>
	-->
	
	<!-- get menu list of some operatorid -->	
	<query name="select_rolemenu">
		<![CDATA[select distinct(m) from Menu m,RoleFunRel f,RoleOperRel o where m.funcid=f.funcid and o.roleid=f.roleid and o.operatorid=:id order by m.displayorder]]>
	</query>
	
	<!-- get operator list of some roleid -->
	<query name="select_roleoperator">
		<![CDATA[select distinct(o) from Operator o,RoleOperRel ro where o.operatorid=ro.operatorid and ro.roleid=:id order by o.operatorid]]>
	</query>
    
    <!-- get funsource list of some roleid -->
	<query name="select_rolefunresource">
		<![CDATA[select distinct(f) from FunResource f,RoleFunRel rf where f.funcid=rf.funcid and rf.roleid=:id order by f.funcid]]>
	</query>
    
    <!-- get opertor list of some groupid -->
	<query name="select_groupoperator">
		<![CDATA[select distinct(o) from Operator o,GroupOperRel go where o.operatorid=go.operatorid and go.groupid=:id order by o.operatorid]]>
	</query>
    
    <!-- get role list of some groupid -->
	<query name="select_grouprole">
		<![CDATA[select distinct(r) from Role r,GroupRoleRel gr where r.roleid=gr.roleid and gr.groupid=:id order by r.roleid]]>
	</query>
	<!-- get distinct iconstename list -->
	<query name="select_distincticonsetname">
		<![CDATA[select distinct(i.iconsetname) from IconSet i order by i.iconsetname]]>
	</query>
	<!-- get iconset list of some iconsetname -->
	<query name="select_iconsetlistbyname">
		<![CDATA[select i from IconSet i where i.iconsetname=:id order by i.iconsetid]]>
	</query>
	<!-- get distinct functype list -->
	<query name="select_distinctfunctype">
		<![CDATA[select distinct(f.functype) from FunResource f order by f.functype]]>
	</query>
	<!-- get funresource list of some functype  -->
	<query name="select_funrlistbyfunctype">
		<![CDATA[select f from FunResource f where f.functype=:id order by f.funcid]]>
	</query>
	
	<!-- get operator list of some roleid -->
	<query name="select_grouproleoperator">
		<![CDATA[select distinct(o) from Operator o,RoleOperRel ro,GroupOperRel go where ro.operatorid=go.operatorid and o.operatorid=ro.operatorid and  go.groupid=:groupid  and ro.roleid=:roleid order by o.operatorid]]>
	</query>
    
   <!-- get roles by operid    andy 20091214 12:49 -->
	<query name="select_rolesByOperId">
		<![CDATA[
		select distinct(r) 
		from RoleOperRel ror, Role r 
		where ror.roleid = r.roleid 
		and ror.operatorid = :operatorid
		]]>
	</query>

</hibernate-mapping>

<!-- <query name="select_currentmax">
		<![CDATA[select max(:propertyname) as maxvalue  from :entityname]]>
    </query> -->
    
