<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.cbs.amsmgr.bean">
   <!--  <sql-query name="select_rolemenu">
	    
	    <![CDATA[SELECT DISTINCT(MENUID),MENUNAME,MENULABEL,MENUCODE,ISLEAF,MENUACTION,PARAMETER,UIENTRY,MENULEVEL,ROOTID,PARENTSID,DISPLAYORDER,IMAGEPATH,EXPANDPATH,MENUSEQ,OPENMODE,SUBCOUNT,M.FUNCID
	        FROM TSOASYSMENU M,TSOASYSROLEOPERREL R,TSOASYSROLEFUNREL F WHERE M.FUNCID=F.FUNCID AND R.ROLEID=F.ROLEID AND R.OPERATORID=? ORDER BY PARENTSID,DISPLAYORDER
	    	]]>
	</sql-query>
	-->
	<query name="select_storagedirbystorage">
	<!--
		<![CDATA[select asg.stglobalid,asg.storagename,asg.storageip,asg.storageaccstype,asg.loginname,asg.loginpwd,asg.mappath,asg.maploginuid,asg.maploginpwd,asg.maplogindisk,asg.totalcap,asg.districtid,asg.storagevalid,asd.storagedirname,asd.dirtotalcap,asd.diralarmcap,asd.dirfreecap,asd.dirvalid from com.soaplat.amsmgr.bean.AmsStorage asg,com.soaplat.amsmgr.bean.AmsStorageDir asd where asg.stglobalid =asd.stglobalid and asd.stdirglobalid = :stdirglobalid]]>
	-->
		<![CDATA[
			select 
				asg.stglobalid,
				asg.storagename,
				asg.storageip,
				asg.storageaccstype,
				asg.loginname,
				asg.loginpwd,
				asg.mappath,
				asg.maploginuid,
				asg.maploginpwd,
				asg.maplogindisk,
				asg.totalcap,
				asg.districtid,
				asg.storagevalid,
				asd.storagedirname,
				asd.dirtotalcap,
				asd.diralarmcap,
				asd.dirfreecap,
				asd.dirvalid,
				pfs.progfileid,
				pfs.programid,
				pfs.filename,
				asd.stdirglobalid 
			from 
				com.soaplat.amsmgr.bean.AmsStorage asg,
				com.soaplat.amsmgr.bean.AmsStorageDir asd,
				com.soaplat.cmsmgr.bean.ProgramFiles pfs 
			where 
					asg.stglobalid =asd.stglobalid 
				and pfs.storagedirid = asd.stdirglobalid 
				and asd.stdirglobalid = :stdirglobalid 
				and pfs.progfileid = :progfileid
		]]>
	</query>
	<query name="select_storageanddirlistbyvsid">
		<![CDATA[
			select 
				asg.stglobalid,
				asg.storagename,
				asg.storageip,
				asg.storageaccstype,
				asg.loginname,
				asg.loginpwd,
				asg.mappath,
				asg.maploginuid,
				asg.maploginpwd,
				asg.maplogindisk,
				asg.totalcap,
				asg.districtid,
				asg.storagevalid,
				asd.storagedirname,
				asd.dirtotalcap,
				asd.diralarmcap,
				asd.dirfreecap,
				asd.dirvalid,
				asd.stdirglobalid 
			from 
				com.soaplat.amsmgr.bean.AmsStorage asg,
				com.soaplat.amsmgr.bean.AmsStorageDir asd,
				com.srmmgr.bean.StorageVsRel svr 
			where 
					asg.stglobalid = asd.stglobalid
				and svr.storageid = asg.stglobalid 
				and svr.vodsid = :vodsid
		]]>
	</query>
	<query name="select_storageanddirlistbystorageclass">
		<![CDATA[
		select asg.stglobalid,
		asg.storagename,
		asg.storageip,
		asg.storageaccstype,
		asg.loginname,
		asg.loginpwd,
		asg.mappath,
		asg.maploginuid,
		asg.maploginpwd,
		asg.maplogindisk,
		asg.totalcap,
		asg.districtid,
		asg.storagevalid,
		asd.storagedirname,
		asd.dirtotalcap,
		asd.diralarmcap,
		asd.dirfreecap,
		asd.dirvalid,
		asd.stdirglobalid 
		from com.soaplat.amsmgr.bean.AmsStorage asg,com.soaplat.amsmgr.bean.AmsStorageDir asd ,
		com.soaplat.amsmgr.bean.AmsStorageClass ascs 
		where asg.stglobalid =asd.stglobalid 
		and ascs.stclassglobalid = asg.stclassglobalid 
		and ascs.stclasscode = :stclasscode 
		and asd.filecode = :filecode
		]]>
	</query>
	<query name="select_storagelistbyfileid">
		<![CDATA[select asg.stglobalid,asg.storagename,asg.storageip,asg.storageaccstype,asg.loginname,asg.loginpwd,asg.mappath,asg.maploginuid,asg.maploginpwd,asg.maplogindisk,asg.totalcap,asg.districtid,asg.storagevalid,asd.storagedirname,asd.dirtotalcap,asd.diralarmcap,asd.dirfreecap,asd.dirvalid,pfs.progfileid,pfs.programid,pfs.filename,asd.stdirglobalid from com.soaplat.amsmgr.bean.AmsStorage asg,com.soaplat.amsmgr.bean.AmsStorageDir asd,com.soaplat.cmsmgr.bean.ProgramFiles pfs where asg.stglobalid =asd.stglobalid and pfs.storagedirid = asd.stdirglobalid and  pfs.programid = :programid and pfs.filetypeid = :filetypeid ]]>
	</query>
	
	
	<!-- Edited by Andy at 20100202 16:04 -->
    <!-- // 根据存储体等级code和filecode，查存储体和目录 -->
	<query name="select_StorageStoragedirsByStclasscodeFilecode">
		<![CDATA[
		select asg, asd, ascs 
		from com.soaplat.amsmgr.bean.AmsStorage asg,
		com.soaplat.amsmgr.bean.AmsStorageDir asd,
		com.soaplat.amsmgr.bean.AmsStorageClass ascs 
		where ascs.stclasscode = :stclasscode 
		and ascs.stclassglobalid = asg.stclassglobalid 
		and asg.stglobalid = asd.stglobalid 
		and asd.filecode = :filecode 
		]]>
	</query>
	
</hibernate-mapping>

<!-- <query name="select_currentmax">
		<![CDATA[select max(:propertyname) as maxvalue  from :entityname]]>
    </query> -->
    
